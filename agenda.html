<!DOCTYPE html><html><head>
	<title>calendrier</title>
	<meta name='viewport' content='width=device-width,initial-scale=1'/>
	<meta charset='utf-8'/>
	<link rel='icon' type='image/svg+xml' href='../site-dp/data/nounours-perso.svg'/>
	<link rel='stylesheet' type='text/css' href='../site-dp/library-css/structure.css'/>
	<link rel='stylesheet' type='text/css' href='../site-dp/library-css/perso.css' media='screen'/>
	<script type='text/javascript' src='agenda.js'></script>
<style type='text/css'>
	agenda {
		border-style: double;
		border-width: 4px;
		border-radius: 1em;
		padding-left: 1em;
	}
	calendar {
		display: grid;
		grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr;
		--button-bg: ivory;
		--button-color: var(--text-color);
		--button-color-hover: ivory;
	}
	calendar button.full {
		--button-bg: #C36;
		--button-color: ivory;
	}
	calendar span { font-weight: bold; }
	calendar span:nth-child(1) { grid-column: 1/6; }
	calendar span:nth-child(2) { grid-column: 6/8; }
</style></head><body>
	<calendar style='display:grid; grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr;'>
		<span></span><span></span>
		<p>l</p><p>m</p><p>m</p><p>j</p><p>v</p><p>s</p><p>d</p>
	</calendar>
</body>
<script type='text/javascript'>
const fileCalendar = 'calendrier.tsv';
var eventList = fromTsv (fileCalendar);

function isYearBissextile (year){
	var yearBissextile = false;
	if (year %4 ==0){
		yearBissextile = true;
		if (year %100 ==0){
			yearBissextile = false;
			if (year %400 ==0) yearBissextile = true;
	}}
	return yearBissextile;
}
class DayWeek{
	static lundi = new DayWeek (1, 'lundi');
	static mardi = new DayWeek (2, 'mardi');
	static mercredi = new DayWeek (3, 'mercredi');
	static jeudi = new DayWeek (4, 'jeudi');
	static vendredi = new DayWeek (5, 'vendredi');
	static samedi = new DayWeek (6, 'samedi');
	static dimanche = new DayWeek (7, 'dimanche');

	constructor (id, name){
		this.id = id;
		this.name = name;
	}
	getById = function (id){
		if (id ==1 || id == 'lundi') return DayWeek.lundi;
		else if (id ==2 || id == 'mardi') return DayWeek.mardi;
		else if (id ==3 || id == 'mercredi') return DayWeek.mercredi;
		else if (id ==4 || id == 'jeudi') return DayWeek.jeudi;
		else if (id ==5 || id == 'vendredi') return DayWeek.vendredi;
		else if (id ==6 || id == 'samedi') return DayWeek.samedi;
		else if (id ==7 || id ==0 || id == 'dimanche') return DayWeek.dimanche;
		else return null;
	}
	static get = function (id){
		return DayWeek.lundi.getById (id);
	}
	static getFirstDayYear = function(){
		// référence: 2020 commençait un mercredi
		const refYear = 2020;
		var nbDays = DayWeek.mercredi.id;
		nbDays +=1;
		for (var y= 2021; y< calYear; y++){
			nbDays += 1;
			if (isYearBissextile (y)) nbDays +=1;
		}
		nbDays = nbDays %7;
		return DayWeek.mercredi.getById (nbDays);
	}
}
// drawAgenda (eventList);
</script>
</html>
