<!DOCTYPE html><html><head>
	<title>soude au cou</title>
	<meta name='viewport' content='width=device-width,initial-scale=1'/>
	<meta charset='utf-8'/>
	<base target='blank' href='file:///C:/Users/deborah.powers/site-dp/'/>
	<!--
	<link rel='icon' type='image/svg+xml' href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='16' height='16'><circle cx='8' cy='8' r='6' style='fill:#FBD;stroke:#C36'/></svg>">
	-->
	<link rel='icon' type='image/svg+xml' href='data/nounours-perso.svg'/>
	<link rel='stylesheet' type='text/css' href='library-css/structure.css'/>
	<script type='text/javascript' src='library-js/list.js'></script>
<style type='text/css'>
	section {
		display: grid;
		grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;
		justify-items: stretch;
		align-items: stretch;
	}
	p {
		border: solid 4px black;
		text-align: center;
	}
</style></head><body>
	<section>
		<p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p>
	</section>
</body><script type='text/javascript'>
	var tableau =[ [1,2,3,4,5,6,7,8,9], [], [], [], [], [], [], [], [] ];
	var nombres = [1,2,3,4,5,6,7,8,9];

	// utiles
	function afficher(){
		var cases = document.getElementsByTagName('p');
		var c=0;
		for (var x=0; x<9; x++) for (var y=0; y<9; y++){
			cases[c].innerHTML = tableau[x][y];
			c=c+1;
	}}
	Array.prototype.enleverAleatoirement = function() {
		var pos = Math.random();
		pos = pos * this.length;
		pos = Math.floor (pos);
		return this.splice (pos, 1)[0];
	}
	Array.prototype.delCroix = function(posX, posY){
		for (var y= this.length; y>=0; y--) if (tableau[posX].contains (this[y])) this.pop (y);
		for (var x=0; x< posX; x++) this.popItem (tableau[x][posY]);
	}
	Array.prototype.delTriplet = function(posX, posY){
		for (var y= this.length; y>=0; y--) if (tableau[posX].contains (this[y])) this.pop (y);
		for (var x=0; x< posX; x++){
			this.popItem (tableau[x][posY]);
			this.popItem (tableau[x][posY +1]);
			this.popItem (tableau[x][posY +2]);
		}
	}
	function remplirLigneSuivanteHaut (x){
		nombres = [1,2,3,4,5,6,7,8,9];
		nombres.delTriplet (x, 0);
		for (y=0; y<3; y++) tableau[x].push (nombres.enleverAleatoirement());
		nombres = [1,2,3,4,5,6,7,8,9];
		nombres.delTriplet (x, 3);
		for (y=0; y<3; y++) tableau[x].push (nombres.enleverAleatoirement());
		nombres = [1,2,3,4,5,6,7,8,9];
		nombres.delTriplet (x, 6);
		for (y=0; y<3; y++) tableau[x].push (nombres.enleverAleatoirement());
	}
	function remplirLigneSuivante (x){
		nombres = [1,2,3,4,5,6,7,8,9];
		nombres.delTriplet (x, 0);
		var nombresTmp;
		for (y=0; y<3; y++){
			nombresTmp = nombres.copy();
			nombresTmp.delCroix (x,y);
			tableau[x].push (nombresTmp.enleverAleatoirement());
		}
		nombres = [1,2,3,4,5,6,7,8,9];
		nombres.delTriplet (x, 3);
		for (y=0; y<3; y++){
			nombresTmp = nombres.copy();
			nombresTmp.delCroix (x,y);
			tableau[x].push (nombresTmp.enleverAleatoirement());
		}
		nombres = [1,2,3,4,5,6,7,8,9];
		nombres.delTriplet (x, 6);
		for (y=0; y<3; y++){
			nombresTmp = nombres.copy();
			nombresTmp.delCroix (x,y);
			tableau[x].push (nombresTmp.enleverAleatoirement());
		}
	}
	function remplirLignePremiere (x){
		for (var y=0; y<9; y++){
			nombres = [1,2,3,4,5,6,7,8,9];
			nombres.delCroix (3,y);
			tableau[x].push (nombres.enleverAleatoirement());
	}}
	function creerSudoku(){
		tableau =[ [1,2,3,4,5,6,7,8,9], [], [], [], [], [], [], [], [] ];
		tableau[0] = tableau[0].shuffle();
		var isGood = false;
		remplirLigneSuivanteHaut (1);
		if (! tableau[1].contains (undefined)){
			remplirLigneSuivanteHaut (2);
			if (! tableau[2].contains (undefined)){
				remplirLignePremiere (3);
				if (! tableau[3].contains (undefined)){
			console.log (3);
					remplirLigneSuivante (4);
					if (! tableau[4].contains (undefined)){
			console.log (4);
						remplirLigneSuivante (5);
						if (! tableau[5].contains (undefined)){
			console.log (5);
							remplirLignePremiere (6);
							if (! tableau[6].contains (undefined)){
			console.log (6);
								remplirLigneSuivante (7);
								if (! tableau[7].contains (undefined)){
			console.log (7);
									remplirLigneSuivante (8);
									if (! tableau[8].contains (undefined)) isGood = true;
		}}}}}}}
		if (! isGood) creerSudoku();
	}
	creerSudoku();
	afficher();
</script></html>
