j'utilise les exemples wef-xxx.

https://developer.mozilla.org/fr/docs/Mozilla/Add-ons/WebExtensions/Your_first_WebExtension
https://developer.mozilla.org/fr/docs/Mozilla/Add-ons/WebExtensions/Your_second_WebExtension
https://developer.mozilla.org/fr/docs/Mozilla/Add-ons/WebExtensions/Add_a_button_to_the_toolbar

======================== divers ========================

dans manifest.json
content_scripts.matches = <all_urls> ou https://*/* ou encore une liste d'urls.
"web_accessible_resources": []
liste des images et autres injectés dans la page. pas pour les scripts js.

utiliser un script inline dans chrome
dans manifest.json
"minimum_chrome_version": "46",
"content_security_policy": "script-src 'self' 'sha256-WOdSzz11/3cpqOdrm89LBL2UPwEU9EhbDtMy2OciEhs='",

une popup a du mal à contenir un script mais elle peux charger une feuille de style css ou un script js. ils doivent être contenus dans le dossier de l'extension. il n'y a pas besoin de les préciser dans le manifest.



======================== installation provisoire ========================

************************ pour firefox ************************

about:debugging#/runtime/this-firefox
bouton "charger un module complémentaire temporaire"
sélectionner un des fichiers de mon extension

************************ pour chrome ************************

chrome://extensions/
activer le mode développeur
bouton "charger l'extension non empaquetée"



Refused to execute inline script because it violates the following Content Security Policy directive: "script-src 'self' blob: filesystem:". Either the 'unsafe-inline' keyword, a hash ('sha256-kA5Ka+fYjvZme9G30pqviUMWx+mMhQirBjx4bsFZuik='), or a nonce ('nonce-...') is required to enable inline execution.
<meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src 'self' 'unsafe-inline'; media-src *;**script-src 'self' http://onlineerp.solution.quebec 'unsafe-inline' 'unsafe-eval';** ">

"minimum_chrome_version": "46",
"content_security_policy": "script-src 'self' 'sha256-WOdSzz11/3cpqOdrm89LBL2UPwEU9EhbDtMy2OciEhs='",
